<!DOCTYPE html>
<html lang="en">
<head>
<title>Quick Clinic</title>
<meta name="description" content="QCB is Best Hospital in Abu Dhabi providing state-of-the-art, quality, & integrated healthcare for all, in conformance to service delivery standards.">
<meta name="keywords" content="Best Hospital in Abu Dhabi, Best Hospital in UAE, Top Hospital in Abu Dhabi, Top Hospital in UAE">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="canonical" href="my-appointments.html">
<link type="image/x-icon" href="front/images/IMC_icon.png" rel="icon">
  <!-- Bootstrap CSS -->
<link rel="stylesheet" href="patient/assets/css/bootstrap.min.css">
  <!-- Fontawesome CSS -->
<link rel="stylesheet" href="patient/assets/plugins/fontawesome/css/all.min.css">
  <!-- Main CSS -->
<link rel="stylesheet" href="patient/assets/css/style.css">
<style>
	.card-color {
		background-color: #fff200;
		padding: 6px;
		border-radius: 10px
	}
	.button-color {
		background-color: #fff200;
	}

    .err-text {
        color: red;
    }

    .success-text {
        color: green;
    }
</style>     
<!-- Css Files-->
<link rel="stylesheet" href="front/css/style.css">
<link href="front/css/aos.css" rel="stylesheet">
<link href="front/css/font-awesome.min.css" rel="stylesheet">
<link href="front/css/owl.carousel.min.css" rel="stylesheet">
<link rel="stylesheet" href="front/css/responsive.css">

</head>
<body>
<div class="main-wrapper">
    <header class="header the-header">
        <nav class="navbar navbar-expand-lg header-nav">
        <a href="index.html" class="navbar-brand logo" width="160" height="57">
            <img src="patient/assets/img/logo.svg" width="220px" height="73px" alt="logo">
        </a>
        <div class="button-appointment"> <a href="index.html"> <small>Visit Website</small> <span><img class="btn-margin" src="front/images/arrow.png" width="15px" height="11px" alt="arrow"></span> </a> </div>
        <ul class="nav header-navbar-rht ">
            <li class="nav-item dropdown has-arrow logged-item">
                
            </li>
        </ul>
    </nav>
</header>
    <!-- /Header -->

    <!-- Breadcrumb -->



    <!-- /Breadcrumb -->



    <!-- Page Content -->

    <div class="content">

        <div class="container-fluid">



            <div class="row">



                <!-- Profile Sidebar -->

               <div class="col-md-3  col-sm-4 theiaStickySidebar">
                <div
                    style="border-top: 6px solid; border-bottom: 6px solid; border-color: #0d6a8d; margin-top: 0px; border-radius: 10px; margin-bottom:5px;">


                    <div class="profile-sidebar" style="margin-top: 4px; margin-bottom: 4px; border-radius: 7px;">

                        <div class="widget-profile pro-widget-content card-color" style="border-radius: 5px;">



                        </div>

                        <div class="dashboard-widget">

                            <nav class="dashboard-menu">

                                <ul>

                                    <li class="">

                                        <a href="/my-dashboard.html">

                                            <i class="fas fa-columns"></i>

                                            <span>Dashboard</span>

                                        </a>

                                    </li>

                                    <li class="">

                                        <a href="/my-appointment.html">

                                            <i class="fas fa-calendar-check"></i>

                                            <span>My Appointments</span>

                                        </a>

                                    </li>


                                    <li class="">

                                        <a href="/my-profile-settings.html">

                                            <i class="fa fa-pencil" aria-hidden="true"></i>

                                            <span>Edit Profile</span>

                                        </a>

                                    </li>

                                    <li class="">



                                        <a href="/patient-change-password.html">

                                            <i class="fa fa-lock" aria-hidden="true"></i>

                                            <span>Change Password</span>

                                        </a>

                                    </li>

                                    <li>

                                        <a onclick="logout()">

                                            <i class="fa fa-sign-out" aria-hidden="true"></i>

                                            <span>Logout</span>

                                        </a>

                                    </li>


                                </ul>

                            </nav>

                        </div>



                    </div>
                </div>
            </div>
            <!-- / Profile Sidebar -->



                <div class="col-md-9 col-sm-8 col-lg-8 col-xl-9">



                    <div class="card">

                        <div class="card-body pt-0">



                            <!-- Tab Menu -->

                            <nav class="user-tabs mb-4">

                                <ul class="nav nav-tabs nav-tabs-bottom nav-justified">

                                    <li class="nav-item">

                                        <a class="nav-link active" href="#pat_upcoming" data-toggle="tab">Upcoming</a>

                                    </li>



                                </ul>

                            </nav>





                        </div>





                        <!-- /Tab Menu -->



                        <!-- Tab Content -->

                        <div class="tab-content pt-0">

                            <div class="container">

                                <div class="row">

                                    <div class="col-md-12 text-right">


                                        <div class="slider-button-wrp" style="margin-top:30px;"> <a href="/our-specialities.html"> Book Appointment<span><img style="margin-top: 0px;" alt="arrow"></span></a> </div>

                                    </div>


                                </div>

                            </div>

                            <br>

                            <!-- Pending Tab -->

                            <div id="pat_upcoming" class="tab-pane fade show active">

                                <div class="card card-table mb-0">

                                    <div class="card-body">

                                        <div class="table-responsive">

                                            <table class="table table-hover table-center mb-0">

                                                <thead >

                                                    <tr>



                                                        <th>Doctor</th>

                                                        <th>Type</th>

                                                        <th>Apointment Date</th>

                                                        


                                                    </tr>

                                                </thead>

                                                <tbody id="table-body">
                                                 
                                                    <!-- <tr>
                                                        <td>Dr. Smith</td>
                                                        <td>General Practitioner</td>
                                                        <td>2024-05-01</td>
                                                        <td>Allen</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Dr. Patel</td>
                                                        <td>Cardiologist</td>
                                                        <td>2024-05-03</td>
                                                        <td>Micheals</td>
                                                    </tr> -->
                                                    
                                                </tbody>

                                            </table>

                                        </div>

                                    </div>

                                </div>

                            </div>

                            <!-- Upcoming Tab -->



                            <!-- Past Tab -->


                            <!-- Past Tab -->





                        </div>

                    </div>

                    <!-- Tab Content -->

                </div>

            </div>



        </div>



    </div>

    <!-- /Page Content -->

</div>

<!-- Appointment Details Modal -->

<div class="modal fade custom-modal" id="appt_details_upcoming">

    <div class="modal-dialog modal-dialog-centered">

        <div class="modal-content">



            <div class="modal-header">

                <h5 class="modal-title">Appointment Details</h5>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">

                    <span aria-hidden="true">&times;</span>

                </button>

            </div>

            <div class="modal-body">

                
            </div>

        </div>

    </div>

</div>

<!-- /Appointment Details Modal -->



<!-- Appointment Details Modal -->

<div class="modal fade custom-modal" id="appt_details_past">

    <div class="modal-dialog modal-dialog-centered">

        <div class="modal-content">



            <div class="modal-header">

                <h5 class="modal-title">Appointment Details</h5>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">

                    <span aria-hidden="true">&times;</span>

                </button>

            </div>

            <div class="modal-body">

                
            </div>

        </div>

    </div>

</div>

<!-- /Appointment Details Modal -->





<!-- Footer -->

<footer>
    <footer class="footer">

        <!--footer-->

        <div class="footer-wraper">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <div class="my-logo-site logo-site"> <img src="front/images/WhiteMFC.png" width="250px" height="73px" alt="logo">

                        </div>
                    </div>
                </div>
                <ul class="row footer-ul">
                    <li class="col-md-4 col-sm-6 col-xs-12">
                        <div class="listing-foote-wrp">
                            <h3> About MFC Hospital </h3>
                            <a href="index.html"> &gt;&gt; Home </a>
                            <a href="about-us.html"> &gt;&gt; About Us </a>
                            <a href="our-doctors.html"> &gt;&gt; MFC Doctors </a>
                        </div>
                    </li>
                    <li class="col-md-4 col-sm-6 col-xs-12">
                        <div class="listing-foote-wrp">
                            <h3> Actions </h3>
                            <a href="my-login.html"> &gt;&gt; Appointments </a>
                            <a href="contact-us.html"> &gt;&gt; Contact Us </a>
                            <a href="my-login.html"> &gt;&gt; My MFC </a>

                        </div>
                    </li>
                    <li class="col-md-4 col-sm-6 col-xs-12">
                        <div class="listing-foote-wrp">
                            <h3> MFC &amp; Specialities </h3>
                            <a href="/doctors/Anaesthesia.html"> &gt;&gt; Anaesthesia </a>
                            <a href="/doctors/Bariatric Surgery.html"> &gt;&gt; Bariatric Surgery </a>
                            <a href="/doctors/Cardiology.html"> &gt;&gt; Cardiology </a>
                            <a href="/doctors/Endocrinology.html"> &gt;&gt; Endocrinology </a>
                        </div>
                    </li>
                </ul>
            </div>
            <!--coprights-->
            <div class="copy-right-wrp copyright-footer">Copyright&nbsp;<i class="fa fa-copyright" aria-hidden="true"></i> 2024 MFC Hospital. All rights reserved. <br> Powered by Uog </div>
        </div>

<!-- <script src="https://www.hospital.com.pk/front/js/jquery-1.12.4.min.js"></script> -->

<!-- <script src="https://www.hospital.com.pk/front/js/aos.js"></script> -->

<!-- <script src="https://www.hospital.com.pk/front/js/wow.min.js"></script> -->

<!-- <script src="https://www.hospital.com.pk/front/js/bootstrap.min.js"></script>
<script src="https://www.hospital.com.pk/front/js/lazysizes.min.js"></script> -->
<!-- <script src="https://www.hospital.com.pk/front/js/bootstrap.js"></script> -->


<!-- <script src="https://www.imchospital.com.pk/front/js/owl.carousel.min.js"></script>
<script>
  AOS.init({
    offset: 120,
    duration: 2000
  });
</script> -->




	<!-- /Footer Bottom -->



	<!-- /Footer -->
	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/jquery.min.js"></script> -->

	<!-- Bootstrap Core JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/popper.min.js"></script>

	<script src="https://www.hospital.com.pk/patient/assets/js/bootstrap.min.js"></script>

	<script src="https://www.hospital.com.pk/patient/assets/plugins/theia-sticky-sidebar/ResizeSensor.js"></script>

	<script src="https://www.hospital.com.pk/patient/assets/plugins/theia-sticky-sidebar/theia-sticky-sidebar.js"></script> -->

	<!-- Select2 JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/plugins/select2/js/select2.min.js"></script> -->

	<!-- Fancybox JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/plugins/fancybox/jquery.fancybox.min.js"></script> -->

	<!-- Dropzone JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/plugins/dropzone/dropzone.min.js"></script> -->



	<!-- Bootstrap Tagsinput JS 

		<script src="https://www.hospital.com.pk/patient/assets/plugins/bootstrap-tagsinput/js/bootstrap-tagsinput.js"></script> -->



	<!-- Profile Settings JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/profile-settings.js"></script> -->

	<!-- Circle Progress JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/circle-progress.min.js"></script> -->

	<!-- Slick JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/slick.js"></script> -->



	<!-- Custom JS -->

	<!-- <script src="https://www.hospital.com.pk/patient/assets/js/script.js"></script>
	<script src="https://www.hospital.com.pk/dist/sweetalert2.all.min.js"></script> -->

    <script>

        window.onload = async function(){

            const mainDiv = document.getElementById("pat_upcoming");
                const errText = document.createElement("h4");
                errText.classList.add("err-text");
                const successText =  document.createElement("h3");
                successText.classList.add("success-text");

               try {    

                const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));

                if(!loggedInUser) {
                  throw new Error("User not logged in");
                }

                const response = await fetch("https://sk-hospital.onrender.com/api/appointments/my", {

                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${loggedInUser.token}`
                    }
                });

                const responseData = await response.json();

                if(response.status===400 || response.status===500 || response.status===403){
                    throw new Error(responseData.message);
                }

                console.log("my appointments are : ");
                console.log(responseData);

                if(responseData.myAppointments.length===0){
                    throw new Error("You currently have no appointments , add some");
                }

                const appointments = responseData.myAppointments;

                appointments.forEach(function(item) {
                    const tableBody = document.getElementById("table-body");

                    const newRow = document.createElement("tr");
                     const newTd1 = document.createElement("td");
                     const newTd2 = document.createElement("td");
                     const newTd3 = document.createElement("td");

                     newTd1.innerText = item.doctor.name;
                     newTd2.innerText = item.doctor.specialization;
                     newTd3.innerText = item.date;

                     newRow.appendChild(newTd1);
                     newRow.appendChild(newTd2);
                     newRow.appendChild(newTd3);
                     tableBody.appendChild(newRow);


                    // Append a new row to the table body
                    // $('#table-body').append(`
                    //     <tr>
                    //         <td>${item.doctor.name}</td>
                    //         <td>${item.doctor.specialization}</td>
                    //         <td>${item.date.split("T")[0]}</td>
                    //     </tr>
                    // `);
                });

               } catch (error) {
                     errText.innerText = error.message;
                     mainDiv.appendChild(errText);
               }
        }

            function logout(){
        localStorage.removeItem("loggedInUser");
        window.location.href = "/my-login.html";
    }

    
    </script>

</footer>


</body>


</html>
